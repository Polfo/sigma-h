#summary Test Scenario on Dashbboard Projects Table (DPT)

<wiki:toc max_depth="3" />

= Introduction =

This scenario is based on the demo data set which is supposed to have all the required proprieties to pass these tests.


= Test cases =

== DPT1 ==
=== _Title:_ User signing in ===
=== _See test on:_ [TestScenario4UserSessionRight#USR1] ===

== DPT2 ==
=== _Title:_ Projects table loading ===
<table border="1"><th> *#* </th><th> *Steps to reproduce* </th><th> *Expected result* </th>
<tr><td> 1 </td><td> Just after signing in, the user sees the projects table getting loaded. </td><td> - A progress bar show the progress of the loading of the projects in the table
- The projects table has the following column shown by default
  * code
  * title
  * current phase
  * organizational unit
  * budget consumption
  * available time consumption
  * activity progress
  * categories to which this project belongs to </td></tr></table>


== DPT3 ==
=== _Title:_ Global export live data ===
<table border="1"><th> *#* </th><th> *Steps to reproduce* </th><th> *Expected result* </th>
<tr><td> 1 </td><td> From the projects table, click on the "Export all" button </td><td> The Global export popup opens up. </td></tr>
<tr><td> 2 </td><td> Let the "Live data" checked by default and click on the "Export" button. </td><td> After a while, an Excel file should be proposed to be downloaded. </td></tr>
<tr><td> 3 </td><td> Save the Excel file on your hard drive and open it. </td><td> The Excel file should contain a tab per project model which has projects associated to it.
In each tab, all the fields of the project model should be given as column and each row should be a project.
All projects, except test and deleted projects, should be in one or another tab of this Excel file. </td></tr></table>


== DPT4 ==
=== _Title:_ Global export other format exportation ===
<table border="1"><th> *#* </th><th> *Steps to reproduce* </th><th> *Expected result* </th>
<tr><td> 1 </td><td> From the projects table, click on the "Export all" button </td><td> The Global export popup opens up. </td></tr>
<tr><td> 2 </td><td> Click on the "Change configuration" button </td><td> The Global export configuration popup opens up on top of the Global export popup. </td></tr>
<tr><td> 3 </td><td> Change the "file type" parameter to the other value. (if it was Excel, switch it to Open document: for the rest of the test case, we assume that the new format is Open document), and click on the "Save configuration" button. </td><td> The Global export configuration popup closes itself, a status message "Global export configuration has been successfully updated is displayed", and the user is now back in front of the Global export popup. </td></tr>
<tr><td> 4 </td><td> Let the "Live data" checked by default and click on the "Export" button. </td><td> After a while, an open document spreadsheet (*.ods) should be proposed to be downloaded. </td></tr>
<tr><td> 5 </td><td> Save the ODS file on your hard drive, open it and compare it with the Excel file generated in previous test case. </td><td> Both files should contain exactly the same tabs, with the same columns and rows in each tab. </td></tr></table>




== DPT5 ==
=== _Title:_ Columns filter ===
<table border="1"><th> *#* </th><th> *Steps to reproduce* </th><th> *Expected result* </th>
<tr><td> 1 </td><td> From the projects table, move your mouse above any of the following columns: Code, Title, Active Phase, Organizational Unit </td><td> On the right of the column, a column contextual menu button in the form of triangle facing down shows up.</td></tr>
<tr><td> 2 </td><td> Click on the column contextual menu button </td><td> The column contextual menu opens up.</td></tr>
<tr><td> 3 </td><td> Move your mouse cursor until the "Filters" menu item. </td><td> A text field appears on the right of the menu item with the text invitation: "Enter filter text"</td></tr>
<tr><td> 4 </td><td> Type any text that you see in the content of the selected column </td><td>The checkbox in front of the "Filters" menu item gets automatically checked, and in the projects table only the rows containing the text put in the filter text field remain.</td></tr>
<tr><td> 5 </td><td> Uncheck the checkbox in front of the "Filters" item menu you've just filled </td><td>The project table gets back all the rows available at the beginning of this test case.</td></tr>
<tr><td> 6 </td><td> Open now the "Filters" menu item for the "Category" column </td><td>A list with checkboxes of all the categories group by category type opens up.</td></tr>
<tr><td> 7 </td><td> Check one or several categories item among the ones available in the column </td><td>The project table gets filtered accordingly.</td></tr>
</table>

== DPT6 ==
=== _Title:_ Projects' table grouping manipulation ===
<table border="1"><th> *#* </th><th> *Steps to reproduce* </th><th> *Expected result* </th>
<tr><td> 1 </td><td> In the project table from the home page, click successively  on three  project grouping action: 
 * grouping by NGO projects
 * grouping by funding projects
 * grouping by local partner projects </td>
<td>For each grouping mode, it should display : 
 * every projects of the right type are displayed once in the beginning of each row
 * if the project has linked projects :
  * it is displayed in bold font
  * a small triangle appear next to the project's name, letting you display or hide the linked projects
  * by default, the linked projects are displayed
  * each linked project of any type is displayed in this order:
   * first, the project as source of funding
   * second, the funded projects
  * thus, a project can appears several times as a linked project but not as a project in the beginning of the line </td></tr></table>


== DPT7 ==
=== _Title:_ Limited project's access according on user's rights ===
<table border="1"><th> *#* </th><th> *Steps to reproduce* </th><th> *Expected result* </th>
<tr><td> 1 </td><td> Connect to the application as user1. </td><td> The home page should be displayed. </td></tr>
<tr><td> 2 </td><td> Create a project P1 accessible to the user3's OrgUnit and a project P2 which shouldn't be accessible to user3 because it is attached to an OrgUnit of an upper-level or same level as his. Disconnect. </td><td> You should be redirected to the sign in page. </td></tr>  
<tr><td> 3 </td><td> Connect as user3. </td><td> On your project table, you should see the project P1 but not the project P2. </td></tr></table>